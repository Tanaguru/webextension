<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <title>Noms accessibles attendus et noms accessibles calculés</title>
        <script type="text/javascript" src="../isNotExposedDueTo.js"></script>
        <script type="text/javascript" src="../accessibleName.js"></script>
    </head>
    <body>
        <table border="">
            <caption>Images sans <code>alt</code> et avec <code>aria-label</code></caption>
            <tr>
                <th>Code du composant</th>
                <th>Rendu du composant</th>
                <th>Nom accessible attendu</th>
                <th>Nom accessible calculé</th>
            </tr>
            <tr>
                <td><code>&lt;img src="image.png" alt="" /&gt;</code></td>
                <td class="code"><img src="image.png" alt="" height="16" width="16" /></td>
                <td><em>(vide)</em></td>
                <td></td>
            </tr>
            <tr>
                <td><code>&lt;img src="image.png" alt="Nom (alt)" /&gt;</code></td>
                <td class="code"><img src="image.png" alt="Nom (alt)" height="16" width="16" /></td>
                <td>Nom (alt)</td>
                <td></td>
            </tr>
        </table>
        <script type="text/javascript">
            var codes = document.querySelectorAll('td.code');
            for (var i = 0; i < codes.length; i++) {
                var an = codes[i].firstElementChild.accessibleName;
                if (an == '') {
                    var anelement = document.createElement('em');
                    anelement.appendChild(document.createTextNode('(vide)'));
                }
                else {
                    var anelement = document.createTextNode(an);
                }
                var resulttd = codes[i].parentNode.querySelector('td:last-child');
                resulttd.appendChild(anelement);
                var expectedtd = resulttd.previousElementSibling;
                resulttd.style.backgroundColor = expectedtd.textContent == resulttd.textContent ? '#cadfb7' : '#ffb3b3';
                expectedtd.style.backgroundColor = expectedtd.textContent == resulttd.textContent ? '#cadfb7' : '#ffb3b3';
            }
        </script>
    </body>
</html>